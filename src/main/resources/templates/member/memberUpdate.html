<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>개인정보 수정</title>
<!-- script -->
<!-- font awesome kit code --><script src="https://kit.fontawesome.com/a958411779.js" crossorigin="anonymous"></script>
<!-- jQuery --><script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<!-- 공통 --><script th:inline="javascript">sessionLogin = [[${session.login}]];</script><script src="js/globalScript.js"></script><script src="js/chatting.js"></script>
<!-- 이 페이지 --><script type="text/javascript" src="js/memberUpdate.js"></script>

<!-- css -->
<!-- 공통 --><link rel="stylesheet" href="css/global.css"><link rel="stylesheet" href="css/globalFrame.css">
<!-- 채팅 --><link rel="stylesheet" href="css/chat.css">
<!-- 이 페이지 --><link rel="stylesheet" href="css/memberUpdate.css"type="text/css">
</head>
<body>

<header th:replace="other/homeNav">메인메뉴</header>

<main><div class="wrap update">
	<h1>개인정보 수정</h1>
	<div>빈칸으로 제출 시 해당 항목은 변경되지 않습니다.</div>
	
	<form class="mainForm" action="memberUpdate" method="POST" id="signUp" enctype="multipart/form-data" onsubmit="memberUpdateSubmit()">
		<div class="profilePicInput">
			<label for="m_profilePic" id="profilePicLabel" class="current">
				<img id="profilePicDefault" class="profilePic" src="/img/defaultProfilePic.png" alt="기본 프로필사진" height=300>
				<img id="profilePicCurrent" class="profilePic" th:src="${dto.profileImage}" alt="기존 프로필사진" height=300>
				<img id="profilePicPreview" class="profilePic" src="" alt="등록프사 미리보기" height=300>
			</label>
			<input type="file" name="m_profilePic" id="m_profilePic">
			<input type="checkbox" name="isTherePropic" id="isTherePropic" style="display: none !important;">
			<div>
				<input type="checkbox" id="eraseProfilepic" name="eraseProfilepic" onchange="easePropicChange(this)">
				<label for="eraseProfilepic">프로필사진 지우기</label>
				<button type="button" class="tinyButton" onclick="propicMode_current()">프사 복원</button>
			</div>
		</div>
		<div class="inputs">
			<div class="inputCell"><!--/* 이름 */-->
				<input type="text" name="m_nickname" id="m_nickname" 
					th:value="${dto.m_nickname}" 
					th:placeholder="${dto.m_nickname}" autocomplete="off">
				<label for="user_name">이름</label>
			</div>
			<div class="nickname regex"></div>
			
			<div class="inputCell"><!--/* 비밀번호 */-->
				<input type="text" name="m_password" id="m_password" 
					value="" autocomplete="off">
				<label for="user_name">비밀번호</label>
			</div>
			<div class="password regex"></div>
			
			<fieldset class="inputCell"><!--/* 성별 */-->
				<legend class="legend1">성별</legend>
				<label for="user_name">남성</label>
				<input type="radio" name="m_gender" value="M" th:if="${dto.m_gender}=='M'" checked><!--/* 기존 값으로 초기 선택 */-->
				<input type="radio" name="m_gender" value="M" th:if="${dto.m_gender}!='M'">
				<label for="user_name">여성</label>
				<input type="radio" name="m_gender" value="F" th:if="${dto.m_gender}=='F'" checked>
				<input type="radio" name="m_gender" value="F" th:if="${dto.m_gender}!='F'">
				<label for="user_name">미공개</label>
				<input type="radio" name="m_gender" value="X" th:if="${dto.m_gender}=='X'" checked>
				<input type="radio" name="m_gender" value="X" th:if="${dto.m_gender}!='X'">
			</fieldset>
			<div class="password regex"></div>
			
			<textarea name="m_introduce" class="input55" th:text="${dto.m_introduce}"></textarea>
			
		</div>
		
		<div class="buttons">
			<button type="reset" class ="largeButton">초기화</button>
			<button type="submit" class ="largeButton" id="signupbtn">수정완료</button>
		</div>
	</form>
</div></main>

<div id="globalSidebar">
	<nav th:if="${session.login}" th:replace="other/fList">팔로목록</nav>
	<button onclick="parentOpen(this)">≡</button>
	<footer th:replace="other/footer">푸터</footer>
</div>

<div id="chatModals"></div>	
</body>
</html>