<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="/css/PostView.css">
<!-- 슬라이더 -->
<script src="//code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="//cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.min.js"></script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.css">
<!-- 검색창 css -->
<link rel="stylesheet" href="css/search.css">
<!-- homeNav css -->
<link rel="stylesheet" href="css/homeNav.css">
<title>글 보기</title>
</head>
<body>

<!-- 슬라이더 작동 Script -->
  <script>
  $(document).ready(function(){
      $('.bxSlider').bxSlider({
    	  captions: true
      });
    });
  </script>

<header th:include="other/homeNav"></header>
<nav></nav>

<input type="hidden" id="p_id" th:value="${post.p_id}">
<input type="hidden" id="p_type" th:value="${post.p_type}">
<input type="hidden" id="m_id" th:value="${session.login}">

<main>
    <div class="wrap">
    	<div class="contentWrap">
        <div class="title" id="profile">
        <!-- 프로필 이미지 가져오기 -->
        <img class="propic" th:src="${post.memberDTO.profileImage}" height=70>
        [[${post.memberDTO.m_nickname}]]
        <!-- 판매글 일 때만 판매 가격이 나타나도록 표시 -->
        <p th:if="${post.p_type} == S" class="textEnd">[[${post.p_price}]] 원</p>
        <div class="sell" th:if="${session.login} == ${post.p_writer}">
        	<select id="selling" name="selling">
        		<option value="">판매 상태</option>
        		<option value="selling">판매중</option>
        		<option value="stop">판매 중지</option>
        		<option value="sellOut">매진</option>
        	</select>
        	<input type="button" id="changeSell" value="설정완료">
        </div>
        </div>
        <div class="content">
        	<div>  	
        	<ul class="bxSlider p_image">
        	<!-- 게시글 내 이미지 불러오기 -->
				<li th:each="image : ${imageList}"><img class="imgBox" th:src="${image.image}" /></li>
			</ul>
		</div>
			<!-- 게시글 내용 불러오기 -->
        <div class="p_content">[[${post.p_content}]]</div>
        </div>
    	  <div class="tag">
    	  <input th:if="${session.login}" type="button" id="like" value="좋아요"> <!-- 좋아요 버튼 -->
    	  <span id="likeCount"></span> <!-- 좋아요 갯수 나오는 곳 -->
    	  <input type="text" readonly="readonly" value="태그 나오는 곳">
    	  <!-- 게시글 타입이 S(판매)일 때만 보이게 함 -->
    	  <button id="reView" th:if="${post.p_type} == S">리뷰작성</button>
    	  <input id="buy" type="button" th:if="${post.p_type} == S" value="구매하기">
    	  <input id="oos" type="button" th:if="${post.p_type} == O" value="품절">
    	  <input id="sos" type="button" th:if="${post.p_type} == X" value="판매 중단">
    	  <button onclick="history.back()">뒤로가기</button>	
    	  </div>
 		</div>
 		
    	  <div>  
    	  <!-- 댓글 나오는 곳 -->
    	  <div class="commentRead" id="commentRead">
    	  </div>
    	  <!-- 댓글 작성란 -->
       <div class="commentInsert">
       <img th:src="${member.profileImage}">
       <input type="text" class="commentWrite" id="commentWrite" maxlength="50" placeholder="댓글 작성하는 곳">
       <div><input type="button" value="작성" id="commentInsert"></div>
       </div>
       
       </div>
    </div>
</main>

<footer th:include="other/footer"></footer>
<script src="/js/PostView.js"></script>
<!-- 검색창 js -->
<script src="js/search.js"></script>
<!-- homeNav js -->
<script src="js/homeNav.js"></script>
</body>
</html>